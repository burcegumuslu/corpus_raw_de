{"title": "PDF", "author": "PDF", "url": "https://jugda.github.io/files/anti-fragile-cloud.pdf", "hostname": "PDF", "description": "PDF", "sitename": "PDF", "date": "PDF", "id": "PDF", "license": "PDF", "body": "PDF", "comments": "PDF", "commentsbody": "PDF", "raw_text": "PDF", "text": "Anti-fragile Cloud Architectures Agim Emruli - @aemruli - mimacom\u201cAntifragility is beyond resilience or robustness. The resilient resists shocks and stays the same; the antifragile gets better.\u201d Nasim Nicholas TalebFragileRobustANTI-FragileNon-linear (Konkav)linearNon-linear (Konvex)Post-traumatic SyndromPost-traumatic GrowthCentralizedDecentralizedFragileRobustFragileAnti-FragileDemandTimeScale cube\nStartInfinite ScaleModularizeDuplicatePartitionStartDuplicationDemandTimeModularizationDemandTimeEuropeNorth AmericaPArtioningDemandTime{you Name it} Servicea microservices architecture IS a service-oriented  architecture composed of loosely coupled elements that have bounded contexts\nHospitalPatientProductDosingTherapyproduct ManagementTherapyDose CalculationPatientsShared  KernelPartnerConformistComponentComponentComponentComponentThe network is reliableLatency is zeroBandwith is InfiniteThe network is secureTopology doesn\u2019t ChangeThere is one AdministratorTransport cost is zeroThe network is homogeneous\nThe network is reliableLatency is zeroBandwith is InfiniteThe network is secureTopology doesn\u2019t ChangeThere is one AdministratorTransport cost is zeroThe network is homogeneoushttp:/ /www.rgoarchitects.com/Files/fallacies.pdfThe network  FallaciesTimeoutpublic class MessageReceiver {\u2028\u2028    private Session session;\u2028    private Destination destination;\u2028\u2028    public void doReceive() throws Exception{\u2028        MessageConsumer consumer =               session.createConsumer(destination);\u2028                consumer.receive();\u2028   }\u2028} public class MessageReceiver {\u2028\u2028    private Session session;\u2028    private Destination destination;\u2028\u2028    public void doReceive() throws Exception{\u2028        MessageConsumer consumer =               session.createConsumer(destination);\u2028                consumer.receive(20L);\u2028   }\u2028} public class HttpReceiver {\u2028    \u2028    public String getResource() throws IOException {\u2028        URL url = new URL(\"http://www.google.de\");\u2028        InputStream inputStream = url.openStream();\u2028        return \u201c\u2026\u201d;\u2028    }\u2028    \u2028} public class HttpReceiver {\u2028\u2028    public String getResource() throws IOException {\u2028        URL url = new URL(\"http://www.google.de\");\u2028        URLConnection urlConn = url.openConnection();\u2028        urlConn.setConnectTimeout(10);\u2028        urlConn.setReadTimeout(10);\u2028        InputStream inputStream = url.getInputStream();\u2028        return \u201c\u2026\u201d;\u2028    }\u2028\u2028}public class DataSourceConfig {\u2028    \u2028    public void DataSource setupDataSource(){\u2028        BasicDataSource basicDataSource =                    new BasicDataSource();\u2028        basicDataSource.setMaxWait(30L);\u2028    }\u2028}Add Latencytc\tqdisc\tadd\tdev\teth0\troot\tnetem\tcorrupt\t5%tc\tqdisc\tadd\tdev\teth0\troot\tlatency\tdelay\t1000ms\t500msCorrupt PackagesDrop Packagestc\tqdisc\tadd\tdev\teth0\troot\tnetem\tloss\t7%\t25%Block DNSiptables\t-A\tINPUT\t-p\ttcp\t-m\ttcp\t--dport\t53\t-j\tDROP\nPatternsStability  Capacity  TransparencyInternet  Traffic37%CLOUDSERVICE REGISTRY,\u2028CIRCUIT BREAKER, METRICS\nCORE\nFRAMEWORK\nSECURITY\nGROOVY\nREACTORIO EXECUTIONIO FOUNDATIONGRAILS\nFULL STACK, WEBXD\nSTREAMS, TAPS, JOBS\nBOOTBOOTABLE, MINIMAL, OPS-READYBATCHJOBS, STEPS,\u2028READERS, WRITERS\nDATA\nRELATIONAL DATANON-RELATIONAL DATABIG DATAINGESTION, EXPORT,\u2028ORCHESTRATION, HADOOP\nWEBCONTROLLERS, REST,\u2028WEBSOCKET\nINTEGRATIONCHANNELS, FILTERS,\u2028ADAPTERS, TRANSFORMERS\nIO COORDINATIONApplicationTomcat (Jetty , Undertow)ActuatorData Sourcejava -jar myapplication.jarJava Runtime EnvironmentCircuit  Breaker\nFragileRobustANTI-FragileNo TimeoutTimeoutCIRCUIT-BREAKERExecute CommandRunFallbackExecute CommandRunFallbackCircuit Open ?Close CircuitTomcat Thread PoolThread - 1ServiceServiceServiceServiceThread - 2Thread - 3XThread - 4Thread - 5Thread - 6Thread - 7Thread - 8COMMAND THREADCOMMAND THREADCOMMAND THREADCOMMAND THREADCOMMAND THREADTRACE --- [http-nio-auto-1-exec-10] outside command TRACE --- [hystrix-RestCurrencyExchange-10] inside commandThread locals@SpringCloudApplication public class SearchGateway {\u2028    @HystrixCommand(fallbackMethod = \"fallback\")\u2028 public List<SearchHit> search(String query) {\u2028  return \u2026;\u2028 }\u2028 public List<SearchHit> fallback() {\u2028  return Collections.emptyList();\u2028 }\u2028} Service  Registry\nFragileRobustANTI-FragilePoint-To-PointService-RegistryServiceServiceServiceService v1.0ClientService v1.1EurekaConsulZookeeper\nAvailability PartitioningConsistency AvailabilityConsistency AvailabilityAvailabilityTimeEurekaZookeeperEuropeNorth America\nEurekaEurekaPArtioningDiscovery\nClient DiscoveryClientService RegistryService InstanceService InstanceService InstanceExecution EnvironmentDNSConsulKubernetesLoad  BalanceClient DiscoveryClientService RegistryService InstanceService InstanceService InstanceExecution EnvironmentApiLoad  BalanceDiscovery ClientServer DiscoveryClientService RegistryService InstanceService InstanceService InstanceExecution EnvironmentProxyLoad  BalanceSidecarServer DiscoveryClientExecution EnvironmentRequestZUUL Edge GatewayService RegistryService InstanceService InstanceService InstanceLoad  BalanceClientServiceServiceRound RobinClientServiceServiceAvailability FilteringXClientService 2.3Service 0.7Weighted Response TimeLoad Balancing\nLINEARNON-LInearNON-LInearAdd Latencytc\tqdisc\tadd\tdev\teth0\troot\tnetem\tcorrupt\t5%tc\tqdisc\tadd\tdev\teth0\troot\tlatency\tdelay\t1000ms\t500msCorrupt PackagesDrop Packagestc\tqdisc\tadd\tdev\teth0\troot\tnetem\tloss\t7%\t25%Block DNSiptables\t-A\tINPUT\t-p\ttcp\t-m\ttcp\t--dport\t53\t-j\tDROPwhile\ttrue;\tdo\t\t\t\t\tdd\tif=/dev/urandom\tof=/burn\tbs=1M\tcount=1024\tiflag=fullblock\tdoneSimulate heavy IOwhile\ttrue;\t\t\t\t\tdo\topenssl\tspeed;\tdoneBurn CPU\nAPI  Gateway\nClientResourceResourceResourceResource\nAPI GatewayClientClientClientClientClient(C OR R1 OR R2 OR R3 OR R4)(C OR A) AND  (R1 OR R2 OR R3 OR R4)Running  Distributed  ArchitecturesLoadPerformanceStressRobustAt 12:24 PM Pacific Time on December 24 network traffic stopped on a few ELBs\u2026.. At around 3:30 PM on December 24, network traffic stopped on  additional ELBs \u2026..Netflix is designed to handle failure of all or part of a single availability zone in a region as we run across three zones and operate with no loss of functionality on two. \u00a0We are working on ways of extending our resiliency to handle partial or complete regional outages. HormesisImpactTimeOn Sunday , at 2:19am PDT, there was a brief network disruption that impacted\u2026\u2026.. So, when the network disruption occurred on Sunday morning, and a number of storage servers simultaneously requested their membership data,\u2026.. By 2:37am PDT, the error rate in customer requests to DynamoDB had risen far beyond any level experienced in the last 3 years\u2026\u2026 After several failed attempts at adding capacity , at 5:06am PDT, we decided to pause  requests to the metadata service.Anti-fragileDespite being run entirely from AWS' cloud platform the online streaming giant Netflix reports a quick recovery from Sunday's disruption - demonstrating the importance of its approach of building cloud-based systems to \"fail\".Anti-fragileAWS:REBOOT2700+ NodesCassandra218 Rebooted 22 DeadThanks Agim Emruli - mimacom @aemruli", "language": "PDF", "image": "PDF", "pagetype": "PDF", "links": "PDF"}